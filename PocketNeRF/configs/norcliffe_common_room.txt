expname = norcliffe_structural_v2_fixed
basedir = ./logs
dataset_type = blender

no_batching = True

use_viewdirs = True
 
white_bkgd = False
lrate_decay = 500

N_samples = 64
N_importance = 128
N_rand = 1024

precrop_iters = 500
precrop_frac = 0.5

half_res = False

# PocketNeRF Structural Priors V2 - Anti-Overfitting Configuration
use_structural_priors = True
predict_normals = True

# DRASTICALLY reduced weights to prevent overfitting (20-50x smaller)
depth_prior_weight = 0.0              # Disabled - causing issues
planarity_weight = 0.001              # Was 0.05, now 50x smaller  
manhattan_weight = 0.0005             # Was 0.02, now 40x smaller
normal_consistency_weight = 0.0002    # Was 0.01, now 50x smaller

# MUCH later activation to allow geometry stabilization  
structural_loss_start_iter = 10000     # 50%

# Progressive ramping for stability
structural_loss_ramp_iters = 5000     # 25%

# Aggressive overfitting detection
overfitting_threshold = 5.0          # Very sensitive threshold
min_structural_weight = 0.00001      # Floor to prevent zero

# Base HashNeRF Anti-Overfitting Settings
lrate = 1e-4                         # Reduced from default 5e-4 (5x smaller)
sparse_loss_weight = 5e-10           # Increased sparsity regularization
tv_loss_weight = 5e-6                # Increased total variation regularization

# Disable expensive operations to prevent crashes
i_video = 50000                      # Disable video rendering (was 5000)
i_weights = 5000                     # Less frequent checkpoints  
i_testset = 2000                     # More frequent test evaluation
