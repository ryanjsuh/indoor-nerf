expname = norcliffe_structural_v2_manhattansdf
basedir = ./logs
dataset_type = blender

no_batching = True

use_viewdirs = True
 
white_bkgd = False
lrate_decay = 500

N_samples = 64
N_importance = 128
N_rand = 1024

precrop_iters = 500
precrop_frac = 0.5

half_res = False

# PocketNeRF Structural Priors V2 - ManhattanSDF + StructNeRF Approach
use_structural_priors = True
predict_normals = True

# Very conservative weights based on research findings
depth_prior_weight = 0.0             # Disabled for now
planarity_weight = 0.002             # Much smaller, semantic-aware
manhattan_weight = 0.001             # Semantic-guided Manhattan constraints
normal_consistency_weight = 0.0005   # Spatial-aware consistency

# Much later activation to allow full geometry stabilization
structural_loss_start_iter = 3000    # Research suggests later is better

# Longer ramping for smoother integration
structural_loss_ramp_iters = 2000

# Very sensitive overfitting detection
overfitting_threshold = 6.0         # Reduced from 8.0
min_structural_weight = 0.00001      # Lower floor

# Additional research-backed stabilization
sparse_loss_weight = 1e-10
tv_loss_weight = 1e-6 